python: "3.6"
matrix:
  include:
  - os: windows
    language: sh
    before_install:
    - choco install python --version=3.6.8
    - /c/Python36/python -m venv $HOME/venv
    - source $HOME/venv/Scripts/activate
    env:
    - CMAKE_GENERATOR: "\"Visual Studio 15 2017 Win64\""
  - os: linux
    language: python
branches:
  only:
  - master
  - develop
install:
- pip install -r build-requirements.txt
- python setup.py install
script:
- pytest tests